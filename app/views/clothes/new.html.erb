<div class="container">
  <div class="form-design">
    <div class="form">
      <%= simple_form_for [ @season, @clothe ] do |f| %>
        <div class="form-step active" id="step-one">
          <h2>Quelle est la famille du produit √† ajouter ?</h2>
          <div id="family-fieldset">
            <%= render 'families_input' %>
            <%#= f.input :family, as: :radio_buttons, collection: Family.all %>
          </div>
          <div class="box-next">
            <%= link_to "Suivant", "#", class: "go-to-step btn-green-flash btn-small", :data => { :target => "step-two"} %>
          </div>
        </div>

        <div class="form-step" id="step-two">
          <h2>Compl√©ter les informations g√©n√©rales du produit √† ajouter</h2>
          <div class="box">
            <%= f.input :name, label: "Nom du produit" %>
            <%= f.input :reference, label: "R√©f√©rence du produit" %>
          </div>
          <div class="box-pattern">
            <div id="pattern-fieldset">
              <%= render 'patterns_input' %>
            </div>
          </div>
          <div class="box-previous-next">
            <%= link_to "< Pr√©c√©dent", "#", class: "go-to-step btn-small btn-light", data: {target: "step-one"} %>
            <%= link_to "Suivant", "#", class: "go-to-step btn-green-flash btn-small", data: {target: "step-three"} %>
          </div>
        </div>

        <div class="form-step" id="step-three">    
          <h2>Compl√©ter la composition du produit √† ajouter (1/3) | <strong>Tissus</strong></h2>
          <h6>Ajouter le tissu principal</h6>
          <%= f.simple_fields_for :technical_details do |form| %>
            <div class="form-components">
              <div class="form-component">
                <%= form.input :component, collection: @main_fabric, label: "Tissu principal" %>
              </div>
              <div class="form-component">
                <%= form.input :quantity, input_html: { min: '0' }, label: "Metrage par produit" %>
              </div>
            </div>
          <% end %>
          <h6>Ajouter les tissus secondaires</h6>
          <div id="secondary-forms">
            <div id="form-add-secondary-fabric">
              <%= f.simple_fields_for :technical_details do |form| %>
                <div class="form-components">
                  <div class="form-component">
                    <%= form.input :component, collection: @secondary_fabric, label: "Tissu secondaire" %>
                  </div>
                  <div class="form-component">
                    <%= form.input :quantity, input_html: { min: '0' }, label: "Metrage par produit" %>
                  </div>
                </div>
              <% end %>
            </div>
            <template id="secondary-form-template">
              <div id="form-add-secondary-fabric">
                <%= f.simple_fields_for :technical_details do |form| %>
                  <div class="form-components">
                    <div class="form-component">
                      <%= form.input :component, collection: @secondary_fabric, label: "Tissu secondaire" %>
                    </div>
                    <div class="form-component">
                      <%= form.input :quantity, input_html: { min: '0' }, label: "Metrage par produit" %>
                    </div>
                  </div>
                <% end %>
              </div>
            </template>
          </div>
          <div class="add-component">
            <div class="btn-add-component" id="add-component" data-target="#secondary-form-template">
              <p>Ajouter un tissu secondaire suppl√©mentaire</p>
              <i class="fas fa-plus-circle"></i>
            </div>
          </div>
          <div class="box-previous-next">
            <%= link_to "< Pr√©c√©dent", "#", class: "go-to-step btn-small btn-light", data: {target: "step-two"} %>
            <%= link_to "Suivant", "#", class: "go-to-step btn-green-flash btn-small", data: {target: "step-four"} %>
          </div>
        </div>

        <div class="form-step" id="step-four">
          <h2>Compl√©ter la composition du produit √† ajouter (2/3) | <strong>Composants</strong></h2>
          <h6>Ajouter les composants | <em>boutons, zips, cordons...</em></h6>
          <div id="trim-forms">
            <div id="form-add-trim">
              <%= f.simple_fields_for :technical_details do |form| %>
                <div class="form-components">
                  <div class="form-component">
                    <%= form.input :component, collection: @trim, label: "Composant" %>
                  </div>
                  <div class="form-component">
                    <%= form.input :quantity, input_html: { min: '0' }, label: "Quantit√© par produit" %>
                  </div>
                </div>
              <% end %>
            </div>
            <template id="trim-form-template">
              <div id="form-add-trim">
                <%= f.simple_fields_for :technical_details do |form| %>
                  <div class="form-components">
                    <div class="form-component">
                      <%= form.input :component, collection: @trim, label: "Composant" %>
                    </div>
                    <div class="form-component">
                      <%= form.input :quantity, input_html: { min: '0' }, label: "Quantit√© par produit" %>
                    </div>
                  </div>
                <% end %>
              </div>
            </template>
          </div>

          <div class="add-component">
            <div class="btn-add-component" id="add-component" data-target="#trim-form-template">
              <p>Ajouter un composant suppl√©mentaire</p>
              <i class="fas fa-plus-circle"></i>
            </div>
          </div>
          <div class="box-previous-next">
            <%= link_to "< Pr√©c√©dent", "#", class: "go-to-step btn-small btn-light", data: {target: "step-three"} %>
            <%= link_to "Suivant", "#", class: "go-to-step btn-green-flash btn-small", data: {target: "step-five"} %>
          </div>
        </div>

        <div class="form-step" id="step-five">
          <h2>Compl√©ter la composition du produit √† ajouter(3/3) | <strong>Composants de marque</strong></h2>
          <h6>Ajouter les composants de marques | <em>√©tiquettes...</em></h6>
          <div id="trim-forms">
            <div id="form-add-brand-trim">
              <%= f.simple_fields_for :technical_details do |form| %>
                <div class="form-components">
                  <div class="form-component">
                    <%= form.input :component, collection: @brand_trim, label: "Composant de marque" %>
                  </div>
                  <div class="form-component">
                    <%= form.input :quantity, input_html: { min: '0' }, label: "Quantit√© par produit" %>
                  </div>
                </div>
              <% end %>
            </div>
            <template id="brand-trim-form-template">
              <div id="form-add-brand-trim">
                <%= f.simple_fields_for :technical_details do |form| %>
                  <div class="form-components">
                    <div class="form-component">
                      <%= form.input :component, collection: @brand_trim, label: "Composant de marque" %>
                    </div>
                    <div class="form-component">
                      <%= form.input :quantity, input_html: { min: '0' }, label: "Quantit√© par produit" %>
                    </div>
                  </div>
                <% end %>
              </div>
            </template>
          </div>

          <div class="add-component">
            <div class="btn-add-component" id="add-component" data-target="#brand-trim-form-template">
              <p>Ajouter un composant de marque suppl√©mentaire</p>
              <i class="fas fa-plus-circle"></i>
            </div>
          </div>
          <div class="box-previous-next">
            <%= link_to "< Pr√©c√©dent", "#", class: "go-to-step btn-small btn-light", data: {target: "step-four"} %>
            <%= link_to "Suivant", "#", class: "go-to-step btn-green-flash btn-small", data: {target: "step-six"} %>
          </div>
        </div>

        <div class="form-step" id="step-six">
          <h2>Completer les information de production du produit √† ajouter</h2>
          <%= f.input :quantity, as: :integer, input_html: { min: '0' }, label: "Quantit√©s √† produire" %>
          <h6>S√©lectionner l'usine de production</h6>
          <div id="factory-fieldset">
            <%= render 'factories_input' %>
          </div>
          <%= f.input :confection_cost, as: :integer, input_html: { min: '0' }, label: "Prix de confection HT (CMT) | ‚Ç¨" %>
          <%= f.input :selling_price, as: :integer, input_html: { min: '0' }, label: "Prix de vente unitaire TTC | ‚Ç¨" %>
          <div class="box-previous-next">
            <%= link_to "< Pr√©c√©dent", "#", class: "go-to-step btn-small btn-light", data: {target: "step-five"} %>
            <%= f.submit "Ajouter le produit üéâ", class: 'btn-green-flash btn-small' %>
          </div>
        </div>
      <% end %> 
    </div>
  </div>
</div>
